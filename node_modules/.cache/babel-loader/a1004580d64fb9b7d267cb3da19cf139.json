{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nandi\\\\Desktop\\\\movie-search\\\\src\\\\components\\\\MovieList.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { GlobalContext } from \"../store/store\";\nimport Accordion from \"@mui/material/Accordion\";\nimport AccordionSummary from \"@mui/material/AccordionSummary\";\nimport AccordionDetails from \"@mui/material/AccordionDetails\";\nimport Typography from \"@mui/material/Typography\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport { Box } from \"@mui/system\";\nimport axios from \"axios\";\nimport { CircularProgress, Link } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"https://en.wikipedia.org/api/rest_v1/page/summary/\";\nexport default function SimpleAccordion() {\n  _s();\n\n  var _movies$length;\n\n  const {\n    movies,\n    addExtractTo,\n    loadingMovies\n  } = React.useContext(GlobalContext);\n  const [loading, setLoading] = useState({\n    isLoading: false,\n    index: null\n  });\n  console.log(movies);\n\n  const getDetails = async (name, index) => {\n    if (!movies[index].extract) {\n      var _queryResult$data$ext, _queryResult$data, _queryResult$data$con, _queryResult$data2, _queryResult$data2$co, _queryResult$data2$co2;\n\n      setLoading({\n        isLoading: true,\n        index\n      });\n      const queryResult = await axios.get(`${API_URL}${name}`).catch(() => {\n        setLoading({\n          isLoading: false,\n          index: null\n        });\n        addExtractTo(index, \"Error loading wikipedia extract...\");\n      });\n      console.log(queryResult === null || queryResult === void 0 ? void 0 : queryResult.data);\n      const extract = (_queryResult$data$ext = queryResult === null || queryResult === void 0 ? void 0 : (_queryResult$data = queryResult.data) === null || _queryResult$data === void 0 ? void 0 : _queryResult$data.extract) !== null && _queryResult$data$ext !== void 0 ? _queryResult$data$ext : \"Error loading extract\";\n      const url = (_queryResult$data$con = queryResult === null || queryResult === void 0 ? void 0 : (_queryResult$data2 = queryResult.data) === null || _queryResult$data2 === void 0 ? void 0 : (_queryResult$data2$co = _queryResult$data2.content_urls) === null || _queryResult$data2$co === void 0 ? void 0 : (_queryResult$data2$co2 = _queryResult$data2$co.desktop) === null || _queryResult$data2$co2 === void 0 ? void 0 : _queryResult$data2$co2.page) !== null && _queryResult$data$con !== void 0 ? _queryResult$data$con : \"\";\n      addExtractTo(index, extract, url);\n      setLoading({\n        isLoading: false,\n        index: null\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h3\",\n      gutterBottom: true,\n      padding: 2,\n      children: `Search results [${(_movies$length = movies === null || movies === void 0 ? void 0 : movies.length) !== null && _movies$length !== void 0 ? _movies$length : 0}]`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      padding: 2,\n      children: movies && (movies === null || movies === void 0 ? void 0 : movies.length) > 0 ? movies.map(({\n        name,\n        score,\n        id,\n        extract,\n        overview,\n        url\n      }, index) => /*#__PURE__*/_jsxDEV(Accordion, {\n        onChange: () => getDetails(name, index),\n        children: [/*#__PURE__*/_jsxDEV(AccordionSummary, {\n          expandIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 29\n          }, this),\n          \"aria-controls\": \"panel1a-content\",\n          id: \"panel1a-header\",\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h7\",\n            children: `${name} (${score})`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(AccordionDetails, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Main overview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            children: overview !== null && overview !== void 0 ? overview : \"No overview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Wikipedia summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this), !loading.isLoading || index !== loading.index ? /*#__PURE__*/_jsxDEV(Typography, {\n            gutterBottom: true,\n            children: [extract !== null && extract !== void 0 ? extract : \"Loading wikipedia extract...\", url ? /*#__PURE__*/_jsxDEV(Link, {\n              href: url,\n              children: \"Wiki\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 28\n            }, this) : \"No Wiki URL...\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 19\n          }, this) : index === loading.index && /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 46\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this)]\n      }, id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this)) : loadingMovies ? /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        children: \"No results yet :(\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SimpleAccordion, \"/TC9VTvOljGPy+WY/VEIAsTdI7E=\");\n\n_c = SimpleAccordion;\n\nvar _c;\n\n$RefreshReg$(_c, \"SimpleAccordion\");","map":{"version":3,"sources":["C:/Users/Nandi/Desktop/movie-search/src/components/MovieList.jsx"],"names":["React","useState","GlobalContext","Accordion","AccordionSummary","AccordionDetails","Typography","ExpandMoreIcon","Box","axios","CircularProgress","Link","API_URL","SimpleAccordion","movies","addExtractTo","loadingMovies","useContext","loading","setLoading","isLoading","index","console","log","getDetails","name","extract","queryResult","get","catch","data","url","content_urls","desktop","page","length","map","score","id","overview"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { GlobalContext } from \"../store/store\";\nimport Accordion from \"@mui/material/Accordion\";\nimport AccordionSummary from \"@mui/material/AccordionSummary\";\nimport AccordionDetails from \"@mui/material/AccordionDetails\";\nimport Typography from \"@mui/material/Typography\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport { Box } from \"@mui/system\";\n\nimport axios from \"axios\";\nimport { CircularProgress, Link } from \"@mui/material\";\n\nconst API_URL = \"https://en.wikipedia.org/api/rest_v1/page/summary/\";\n\nexport default function SimpleAccordion() {\n  const { movies, addExtractTo, loadingMovies } =\n    React.useContext(GlobalContext);\n  const [loading, setLoading] = useState({ isLoading: false, index: null });\n\n  console.log(movies);\n\n  const getDetails = async (name, index) => {\n    if (!movies[index].extract) {\n      setLoading({ isLoading: true, index });\n\n      const queryResult = await axios.get(`${API_URL}${name}`).catch(() => {\n        setLoading({ isLoading: false, index: null });\n        addExtractTo(index, \"Error loading wikipedia extract...\");\n      });\n\n      console.log(queryResult?.data);\n      const extract = queryResult?.data?.extract ?? \"Error loading extract\";\n      const url = queryResult?.data?.content_urls?.desktop?.page ?? \"\";\n\n      addExtractTo(index, extract, url);\n\n      setLoading({ isLoading: false, index: null });\n    }\n  };\n\n  return (\n    <div>\n      <Typography variant=\"h3\" gutterBottom padding={2}>\n        {`Search results [${movies?.length ?? 0}]`}\n      </Typography>\n      <Box padding={2}>\n        {movies && movies?.length > 0 ? (\n          movies.map(({ name, score, id, extract, overview, url }, index) => (\n            <Accordion key={id} onChange={() => getDetails(name, index)}>\n              <AccordionSummary\n                expandIcon={<ExpandMoreIcon />}\n                aria-controls=\"panel1a-content\"\n                id=\"panel1a-header\"\n              >\n                <Typography variant=\"h7\">{`${name} (${score})`}</Typography>\n              </AccordionSummary>\n\n              <AccordionDetails>\n                <Typography variant=\"h6\" gutterBottom>\n                  Main overview\n                </Typography>\n                <Typography>{overview ?? \"No overview\"}</Typography>\n\n                <Typography variant=\"h6\" gutterBottom>\n                  Wikipedia summary\n                </Typography>\n                {!loading.isLoading || index !== loading.index ? (\n                  <Typography gutterBottom>\n                    {extract ?? \"Loading wikipedia extract...\"}\n                    {url ? <Link href={url}>Wiki</Link> : \"No Wiki URL...\"}\n                  </Typography>\n                ) : (\n                  index === loading.index && <CircularProgress />\n                )}\n              </AccordionDetails>\n            </Accordion>\n          ))\n        ) : loadingMovies ? (\n          <CircularProgress />\n        ) : (\n          <Typography variant=\"caption\">No results yet :(</Typography>\n        )}\n      </Box>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}